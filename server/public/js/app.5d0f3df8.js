(function(e){function t(t){for(var a,o,n=t[0],l=t[1],u=t[2],i=0,b=[];i<n.length;i++)o=n[i],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&b.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);d&&d(t);while(b.length)b.shift()();return c.push.apply(c,u||[]),s()}function s(){for(var e,t=0;t<c.length;t++){for(var s=c[t],a=!0,n=1;n<s.length;n++){var l=s[n];0!==r[l]&&(a=!1)}a&&(c.splice(t--,1),e=o(o.s=s[0]))}return e}var a={},r={app:0},c=[];function o(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=a,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(s,a,function(t){return e[t]}.bind(null,a));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var u=0;u<n.length;u++)t(n[u]);var d=l;c.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0c07":function(e,t,s){"use strict";s("c877")},"158f":function(e,t,s){},"198a":function(e,t,s){},"1bf9":function(e,t,s){"use strict";s("8e3d")},"1c72":function(e,t,s){"use strict";s("85f4")},4193:function(e,t,s){"use strict";s("738b")},"4c2a":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);var a=s("7a23");const r={class:"container"};function c(e,t,s,c,o,n){const l=Object(a["x"])("router-view");return Object(a["q"])(),Object(a["d"])("div",r,[Object(a["g"])(l)])}var o={components:{}},n=(s("4193"),s("6b0d")),l=s.n(n);const u=l()(o,[["render",c]]);var d=u,i=s("6605");const b=e=>(Object(a["t"])("data-v-0428aed7"),e=e(),Object(a["r"])(),e),O={class:"home"},j=b(()=>Object(a["e"])("div",{class:"title"},[Object(a["f"])(" Monster "),Object(a["e"])("br"),Object(a["f"])(" Attack ")],-1)),p={class:"buttonDiv"},h=b(()=>Object(a["e"])("button",null,"Register",-1)),m=b(()=>Object(a["e"])("button",null,"Login",-1));function f(e,t,s,r,c,o){const n=Object(a["x"])("router-link");return Object(a["q"])(),Object(a["d"])("div",O,[j,Object(a["e"])("div",p,[Object(a["g"])(n,{to:"/register"},{default:Object(a["E"])(()=>[h]),_:1}),Object(a["g"])(n,{to:"/login"},{default:Object(a["E"])(()=>[m]),_:1})])])}var g={name:"Home",methods:{register(){}},created(){const e=localStorage.getItem("user");e&&this.$router.push("/dashboard")}};s("7ca2");const v=l()(g,[["render",f],["__scopeId","data-v-0428aed7"]]);var w=v;const y=e=>(Object(a["t"])("data-v-e2514d72"),e=e(),Object(a["r"])(),e),k={class:"register"},_={class:"heading"},S=y(()=>Object(a["e"])("i",{class:"fa-regular fa-circle-left"},null,-1)),q=y(()=>Object(a["e"])("h1",{class:"title"},"Register",-1)),M=y(()=>Object(a["e"])("div",null,null,-1)),I=y(()=>Object(a["e"])("input",{type:"submit",title:"Submit",class:"submit"},null,-1));function R(e,t,s,r,c,o){const n=Object(a["x"])("router-link");return Object(a["q"])(),Object(a["d"])("div",k,[Object(a["F"])(Object(a["e"])("div",{class:"error"},"Error: "+Object(a["z"])(c.error),513),[[a["C"],c.showError]]),Object(a["e"])("div",_,[Object(a["g"])(n,{to:"/"},{default:Object(a["E"])(()=>[S]),_:1}),q,M]),Object(a["e"])("form",{onSubmit:t[4]||(t[4]=Object(a["G"])((...e)=>o.register&&o.register(...e),["prevent"]))},[Object(a["F"])(Object(a["e"])("input",{type:"email",placeholder:"Email",required:"","onUpdate:modelValue":t[0]||(t[0]=e=>c.email=e)},null,512),[[a["B"],c.email]]),Object(a["F"])(Object(a["e"])("input",{type:"text",placeholder:"Username",required:"","onUpdate:modelValue":t[1]||(t[1]=e=>c.username=e)},null,512),[[a["B"],c.username]]),Object(a["F"])(Object(a["e"])("input",{type:"password",placeholder:"Password",required:"","onUpdate:modelValue":t[2]||(t[2]=e=>c.password=e)},null,512),[[a["B"],c.password]]),Object(a["F"])(Object(a["e"])("input",{type:"password",placeholder:"Re-enter password",required:"","onUpdate:modelValue":t[3]||(t[3]=e=>c.password2=e)},null,512),[[a["B"],c.password2]]),I],32)])}s("d9e2");var E=s("bc3a"),C=s.n(E);const D="api/users/",x=async e=>{console.log(e);try{const t=await C.a.post(D,e);return t.data&&localStorage.setItem("user",JSON.stringify(t.data)),t.data}catch(t){throw new Error("Error")}},z=async e=>{const t=await C.a.post(D+"login",e);return t.data},B=async e=>{const{token:t}=JSON.parse(localStorage.getItem("user")),s={headers:{Authorization:"Bearer "+t},params:{email:e}},a=await C.a.get(D+"getUserDetails",s);return a.data},J=async()=>{const{token:e}=JSON.parse(localStorage.getItem("user")),t={headers:{Authorization:"Bearer "+e}},s=await C.a.get(D+"getLeaderboards",t);return s.data},L={register:x,userLogin:z,getUserDetails:B,getLeaderboards:J};var N=L,F={name:"Register",data(){return{email:"",username:"",password:"",password2:"",error:"",showError:!1}},methods:{async register(){if(this.password===this.password2){const e={email:this.email,username:this.username,password:this.password},t=await N.register(e);console.log(t),this.$router.push("/dashboard")}else this.showError=!0,this.error="Password does not match",this.removeError()},removeError(){setTimeout(()=>{this.showError=!1,this.error=""},3e3)}},created(){const e=localStorage.getItem("user");e&&this.$router.push("/dashboard")}};s("9e4b");const U=l()(F,[["render",R],["__scopeId","data-v-e2514d72"]]);var P=U;const A=e=>(Object(a["t"])("data-v-f509b664"),e=e(),Object(a["r"])(),e),H={class:"login"},$={class:"heading"},V=A(()=>Object(a["e"])("i",{class:"fa-regular fa-circle-left"},null,-1)),Q=A(()=>Object(a["e"])("h1",{class:"title"},"Register",-1)),T=A(()=>Object(a["e"])("div",null,null,-1)),Y=A(()=>Object(a["e"])("input",{type:"submit",title:"Submit",class:"submit"},null,-1));function G(e,t,s,r,c,o){const n=Object(a["x"])("router-link");return Object(a["q"])(),Object(a["d"])("div",H,[Object(a["F"])(Object(a["e"])("div",{class:"error"},"Error: "+Object(a["z"])(c.error),513),[[a["C"],c.showError]]),Object(a["e"])("div",$,[Object(a["g"])(n,{to:"/"},{default:Object(a["E"])(()=>[V]),_:1}),Q,T]),Object(a["e"])("form",{onSubmit:t[2]||(t[2]=Object(a["G"])((...e)=>o.login&&o.login(...e),["prevent"]))},[Object(a["F"])(Object(a["e"])("input",{type:"email",placeholder:"email",required:"","onUpdate:modelValue":t[0]||(t[0]=e=>c.email=e)},null,512),[[a["B"],c.email]]),Object(a["F"])(Object(a["e"])("input",{type:"password",placeholder:"password",required:"","onUpdate:modelValue":t[1]||(t[1]=e=>c.password=e)},null,512),[[a["B"],c.password]]),Y],32)])}var K={name:"Login",data(){return{email:"",password:"",error:"",showError:!1}},methods:{async login(){const e={email:this.email,password:this.password},t=await N.userLogin(e),s=Object.keys(t).includes("error");s?(this.error=t.error,this.showError=!0,this.removeError()):(localStorage.setItem("user",JSON.stringify(t)),this.$router.push("/dashboard"))},removeError(){setTimeout(()=>{this.showError=!1,this.error=""},3e3)}},created(){const e=JSON.parse(localStorage.getItem("user"));e&&this.$router.push("/dashboard")}};s("0c07");const W=l()(K,[["render",G],["__scopeId","data-v-f509b664"]]);var X=W;const Z=e=>(Object(a["t"])("data-v-71148c0f"),e=e(),Object(a["r"])(),e),ee={class:"dashboardContainer"},te=Z(()=>Object(a["e"])("h1",{class:"title"},"Dashboard",-1)),se={class:"buttonDiv"},ae=Z(()=>Object(a["e"])("button",null,"Quests",-1)),re=Z(()=>Object(a["e"])("button",null,"Leaderboards",-1));function ce(e,t,s,r,c,o){const n=Object(a["x"])("Header"),l=Object(a["x"])("router-link");return Object(a["q"])(),Object(a["d"])("div",null,[Object(a["g"])(n),Object(a["e"])("div",ee,[te,Object(a["e"])("div",se,[Object(a["g"])(l,{to:"/quests"},{default:Object(a["E"])(()=>[ae]),_:1}),Object(a["g"])(l,{to:"/leaderboards"},{default:Object(a["E"])(()=>[re]),_:1}),Object(a["e"])("button",{onClick:t[0]||(t[0]=(...e)=>o.logout&&o.logout(...e)),class:"logout"},"Logout")])])])}function oe(e,t,s,r,c,o){return Object(a["q"])(),Object(a["d"])("header",null,Object(a["z"])(c.username)+", "+Object(a["z"])(c.points)+" points",1)}var ne={name:"Header",props:{result:Object},data(){return{username:"",points:""}},watch:{result(){setTimeout(async()=>{const e=JSON.parse(localStorage.getItem("user")),t=await N.getUserDetails(e.email);this.username=t.username,this.points=t.points},2e3)}},async created(){const e=JSON.parse(localStorage.getItem("user"));if(e){const t=await N.getUserDetails(e.email);this.username=t.username,this.points=t.points}}};s("1c72");const le=l()(ne,[["render",oe],["__scopeId","data-v-0828148d"]]);var ue=le,de={name:"Dashboard",components:{Header:ue},data(){return{username:"",points:0}},methods:{logout(){localStorage.removeItem("user"),this.$router.push("/")}},created(){const e=localStorage.getItem("user");e||this.$router.push("/")}};s("d6cf");const ie=l()(de,[["render",ce],["__scopeId","data-v-71148c0f"]]);var be=ie;const Oe=e=>(Object(a["t"])("data-v-683c85be"),e=e(),Object(a["r"])(),e),je={class:"leaderboardsContainer"},pe=Oe(()=>Object(a["e"])("h1",{class:"title"},"Leaderboards",-1)),he=Oe(()=>Object(a["e"])("thead",null,[Object(a["e"])("tr",null,[Object(a["e"])("th",null,"Name"),Object(a["e"])("th",null,"Points")])],-1)),me={ref:"tbody"},fe=Oe(()=>Object(a["e"])("button",{class:"back"},"Back",-1));function ge(e,t,s,r,c,o){const n=Object(a["x"])("Header"),l=Object(a["x"])("router-link");return Object(a["q"])(),Object(a["d"])("div",null,[Object(a["g"])(n),Object(a["e"])("div",je,[pe,Object(a["e"])("table",null,[he,Object(a["e"])("tbody",me,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(c.leaderBoards,e=>(Object(a["q"])(),Object(a["d"])("tr",{key:e._id},[Object(a["e"])("td",null,Object(a["z"])(e.username),1),Object(a["e"])("td",null,Object(a["z"])(e.points),1)]))),128))],512)]),Object(a["g"])(l,{to:"/dashboard"},{default:Object(a["E"])(()=>[fe]),_:1})])])}var ve={name:"Leaderboards",components:{Header:ue},data(){return{leaderBoards:[]}},async created(){const e=JSON.parse(localStorage.getItem("user"));if(e||this.$router.push("/"),e){const e=await N.getLeaderboards();this.leaderBoards=e}}};s("7c94");const we=l()(ve,[["render",ge],["__scopeId","data-v-683c85be"]]);var ye=we;const ke=e=>(Object(a["t"])("data-v-4da9167d"),e=e(),Object(a["r"])(),e),_e=ke(()=>Object(a["e"])("h1",{class:"title"},"Quests",-1)),Se=ke(()=>Object(a["e"])("i",{class:"fas fa-sword"},null,-1)),qe={class:"questsDiv"},Me=["id"],Ie={class:"attackName"},Re=["onClick","disabled"],Ee=ke(()=>Object(a["e"])("i",{class:"fa-solid fa-khanda"},null,-1)),Ce=Object(a["f"])(" Attack "),De=ke(()=>Object(a["e"])("button",{class:"back"},"Back",-1));function xe(e,t,s,r,c,o){const n=Object(a["x"])("Header"),l=Object(a["x"])("router-link"),u=Object(a["x"])("CalculateModal"),d=Object(a["x"])("ResultModal");return Object(a["q"])(),Object(a["d"])(a["a"],null,[Object(a["e"])("div",null,[Object(a["g"])(n,{result:c.result},null,8,["result"]),_e,Se,Object(a["e"])("div",qe,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(c.quests,(e,t)=>(Object(a["q"])(),Object(a["d"])("div",{class:"quest",key:e._id,id:e._id},[Object(a["e"])("h2",Ie,Object(a["z"])(e.action),1),Object(a["e"])("button",{onClick:e=>o.attack(t),class:Object(a["m"])(e.isDisabled?"disabled":"active"),disabled:e.isDisabled},[Ee,Ce,Object(a["F"])(Object(a["e"])("span",{class:Object(a["m"])(e.isDisabled?"cdDisabled":"cdActive")},Object(a["z"])(e.cd),3),[[a["C"],e.isDisabled]])],10,Re)],8,Me))),128))]),Object(a["g"])(l,{to:"/dashboard"},{default:Object(a["E"])(()=>[De]),_:1})]),Object(a["F"])(Object(a["g"])(u,null,null,512),[[a["C"],c.showCalculate]]),Object(a["F"])(Object(a["g"])(d,{onCloseResultModal:o.closeResultModal,result:c.result},null,8,["onCloseResultModal","result"]),[[a["C"],c.showResult]])],64)}const ze="api/quests/",Be=async()=>{const{token:e}=JSON.parse(localStorage.getItem("user")),t={headers:{Authorization:"Bearer "+e}},s=await C.a.get(ze,t);return s.data},Je=async e=>{const{token:t}=JSON.parse(localStorage.getItem("user")),s={headers:{Authorization:"Bearer "+t}},a=await C.a.post(ze+"attackMonster",e,s);return a.data},Le={getAllQuests:Be,attackMonster:Je};var Ne=Le;const Fe=e=>(Object(a["t"])("data-v-6ce7c8f3"),e=e(),Object(a["r"])(),e),Ue={class:"calculateModal"},Pe=Fe(()=>Object(a["e"])("div",{class:"modal-content"},[Object(a["e"])("h2",null,"Calculating....")],-1)),Ae=[Pe];function He(e,t,s,r,c,o){return Object(a["q"])(),Object(a["d"])("div",Ue,Ae)}var $e={name:"CalculateModal"};s("1bf9");const Ve=l()($e,[["render",He],["__scopeId","data-v-6ce7c8f3"]]);var Qe=Ve;const Te=e=>(Object(a["t"])("data-v-0e92b78b"),e=e(),Object(a["r"])(),e),Ye={class:"resultModal"},Ge={key:0,class:"modal-content"},Ke=Te(()=>Object(a["e"])("h2",{class:"victory"},[Object(a["f"])("Victory "),Object(a["e"])("i",{class:"fa-regular fa-face-smile"})],-1)),We={class:"text"},Xe={key:1,class:"modal-content"},Ze=Te(()=>Object(a["e"])("h2",{class:"draw"},[Object(a["f"])("Draw "),Object(a["e"])("i",{class:"fa-regular fa-face-surprise"})],-1)),et={class:"text"},tt={key:2,class:"modal-content"},st=Te(()=>Object(a["e"])("h2",{class:"defeat"},[Object(a["f"])("Defeat "),Object(a["e"])("i",{class:"fa-regular fa-face-frown"})],-1)),at={class:"text"};function rt(e,t,s,r,c,o){return Object(a["q"])(),Object(a["d"])("div",Ye,["Victory"===s.result.result?(Object(a["q"])(),Object(a["d"])("div",Ge,[Ke,Object(a["e"])("p",We," You have defeated Monster"+Object(a["z"])(s.result.monster)+" You have earned "+Object(a["z"])(s.result.reward)+" points. ",1),Object(a["e"])("button",{onClick:t[0]||(t[0]=(...e)=>o.closeResultModal&&o.closeResultModal(...e))},"Return")])):"Draw"===s.result.result?(Object(a["q"])(),Object(a["d"])("div",Xe,[Ze,Object(a["e"])("p",et," Your battle against Monster"+Object(a["z"])(s.result.monster)+" is draw. You didn't earned any points ",1),Object(a["e"])("button",{onClick:t[1]||(t[1]=(...e)=>o.closeResultModal&&o.closeResultModal(...e))},"Return")])):(Object(a["q"])(),Object(a["d"])("div",tt,[st,Object(a["e"])("p",at," Your troops failed to defeat Monster"+Object(a["z"])(s.result.monster),1),Object(a["e"])("button",{onClick:t[2]||(t[2]=(...e)=>o.closeResultModal&&o.closeResultModal(...e))},"Return")]))])}var ct={name:"ResultModal",props:{result:Object},methods:{closeResultModal(){this.$emit("close-result-modal")}},emits:["close-result-modal"]};s("e777");const ot=l()(ct,[["render",rt],["__scopeId","data-v-0e92b78b"]]);var nt=ot,lt={name:"Quests",components:{Header:ue,CalculateModal:Qe,ResultModal:nt},data(){return{quests:[],showCalculate:!1,showResult:!1,result:{},interval:null}},methods:{closeResultModal(){this.showResult=!1},async attack(e){this.showCalculate=!0;const t=JSON.parse(localStorage.getItem("user")),s=this.quests[e],{_id:a}=t,r=s._id,c={userID:a,monsterID:r},o=await Ne.attackMonster(c);this.result=o,setTimeout(()=>{this.showCalculate=!1,this.showResult=!0},2e3),s.isDisabled=!0;const n=s.cd;function l(e){let t=setInterval(()=>{e--,s.cd=e,e<=0&&(clearInterval(t),s.isDisabled=!1,s.cd=30)},1e3)}l(n)}},async created(){const e=await Ne.getAllQuests();this.quests=e,this.quests=e.map(e=>({...e,isDisabled:!1,cd:30}))}};s("8dd4");const ut=l()(lt,[["render",xe],["__scopeId","data-v-4da9167d"]]);var dt=ut;const it=[{path:"/",name:"Home",component:w},{path:"/register",name:"Register",component:P},{path:"/login",name:"Login",component:X},{path:"/dashboard",name:"Dashboard",component:be},{path:"/quests",name:"Quests",component:dt},{path:"/leaderboards",name:"Leaderboards",component:ye}],bt=Object(i["a"])({history:Object(i["b"])(),routes:it});var Ot=bt;Object(a["c"])(d).use(Ot).mount("#app")},"5c76":function(e,t,s){},"738b":function(e,t,s){},"7c94":function(e,t,s){"use strict";s("4c2a")},"7ca2":function(e,t,s){"use strict";s("9d3d")},"85f4":function(e,t,s){},"8dd4":function(e,t,s){"use strict";s("e4e2")},"8e3d":function(e,t,s){},"9d3d":function(e,t,s){},"9e4b":function(e,t,s){"use strict";s("5c76")},c877:function(e,t,s){},d6cf:function(e,t,s){"use strict";s("158f")},e4e2:function(e,t,s){},e777:function(e,t,s){"use strict";s("198a")}});
//# sourceMappingURL=app.5d0f3df8.js.map