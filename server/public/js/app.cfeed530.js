(function(e){function t(t){for(var a,c,n=t[0],l=t[1],u=t[2],d=0,b=[];d<n.length;d++)c=n[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&b.push(r[c][0]),r[c]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);i&&i(t);while(b.length)b.shift()();return o.push.apply(o,u||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],a=!0,n=1;n<s.length;n++){var l=s[n];0!==r[l]&&(a=!1)}a&&(o.splice(t--,1),e=c(c.s=s[0]))}return e}var a={},r={app:0},o=[];function c(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.m=e,c.c=a,c.d=function(e,t,s){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(s,a,function(t){return e[t]}.bind(null,a));return s},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var u=0;u<n.length;u++)t(n[u]);var i=l;o.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0ebf":function(e,t,s){},"158f":function(e,t,s){},"161f":function(e,t,s){"use strict";s("0ebf")},"1bf9":function(e,t,s){"use strict";s("8e3d")},"1c72":function(e,t,s){"use strict";s("85f4")},"1e2b":function(e,t,s){"use strict";s("2b62")},"2b62":function(e,t,s){},4193:function(e,t,s){"use strict";s("738b")},"482b":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);var a=s("7a23");const r={class:"container"};function o(e,t,s,o,c,n){const l=Object(a["x"])("router-view");return Object(a["q"])(),Object(a["d"])("div",r,[Object(a["g"])(l)])}var c={components:{}},n=(s("4193"),s("6b0d")),l=s.n(n);const u=l()(c,[["render",o]]);var i=u,d=s("6605");const b=e=>(Object(a["t"])("data-v-0428aed7"),e=e(),Object(a["r"])(),e),O={class:"home"},j=b(()=>Object(a["e"])("div",{class:"title"},[Object(a["f"])(" Monster "),Object(a["e"])("br"),Object(a["f"])(" Attack ")],-1)),p={class:"buttonDiv"},h=b(()=>Object(a["e"])("button",null,"Register",-1)),f=b(()=>Object(a["e"])("button",null,"Login",-1));function m(e,t,s,r,o,c){const n=Object(a["x"])("router-link");return Object(a["q"])(),Object(a["d"])("div",O,[j,Object(a["e"])("div",p,[Object(a["g"])(n,{to:"/register"},{default:Object(a["E"])(()=>[h]),_:1}),Object(a["g"])(n,{to:"/login"},{default:Object(a["E"])(()=>[f]),_:1})])])}var g={name:"Home",methods:{register(){}},created(){const e=localStorage.getItem("user");e&&this.$router.push("/dashboard")}};s("7ca2");const v=l()(g,[["render",m],["__scopeId","data-v-0428aed7"]]);var w=v;const y=e=>(Object(a["t"])("data-v-e2514d72"),e=e(),Object(a["r"])(),e),k={class:"register"},_={class:"heading"},S=y(()=>Object(a["e"])("i",{class:"fa-regular fa-circle-left"},null,-1)),q=y(()=>Object(a["e"])("h1",{class:"title"},"Register",-1)),M=y(()=>Object(a["e"])("div",null,null,-1)),I=y(()=>Object(a["e"])("input",{type:"submit",title:"Submit",class:"submit"},null,-1));function R(e,t,s,r,o,c){const n=Object(a["x"])("router-link");return Object(a["q"])(),Object(a["d"])("div",k,[Object(a["F"])(Object(a["e"])("div",{class:"error"},"Error: "+Object(a["z"])(o.error),513),[[a["C"],o.showError]]),Object(a["e"])("div",_,[Object(a["g"])(n,{to:"/"},{default:Object(a["E"])(()=>[S]),_:1}),q,M]),Object(a["e"])("form",{onSubmit:t[4]||(t[4]=Object(a["G"])((...e)=>c.register&&c.register(...e),["prevent"]))},[Object(a["F"])(Object(a["e"])("input",{type:"email",placeholder:"Email",required:"","onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e)},null,512),[[a["B"],o.email]]),Object(a["F"])(Object(a["e"])("input",{type:"text",placeholder:"Username",required:"","onUpdate:modelValue":t[1]||(t[1]=e=>o.username=e)},null,512),[[a["B"],o.username]]),Object(a["F"])(Object(a["e"])("input",{type:"password",placeholder:"Password",required:"","onUpdate:modelValue":t[2]||(t[2]=e=>o.password=e)},null,512),[[a["B"],o.password]]),Object(a["F"])(Object(a["e"])("input",{type:"password",placeholder:"Re-enter password",required:"","onUpdate:modelValue":t[3]||(t[3]=e=>o.password2=e)},null,512),[[a["B"],o.password2]]),I],32)])}var C=s("bc3a"),D=s.n(C);const E="api/users/",x=async e=>{console.log(e);try{const t=await D.a.post(E,e);return t.data&&localStorage.setItem("user",JSON.stringify(t.data)),t.data}catch(t){console.log(t)}},z=async e=>{const t=await D.a.post(E+"login",e);return t.data},B=async e=>{const{token:t}=JSON.parse(localStorage.getItem("user")),s={headers:{Authorization:"Bearer "+t},params:{email:e}},a=await D.a.get(E+"getUserDetails",s);return console.log(a),a.data},J=async()=>{const{token:e}=JSON.parse(localStorage.getItem("user")),t={headers:{Authorization:"Bearer "+e}},s=await D.a.get(E+"getLeaderboards",t);return console.log(s.data.status),s.data},L={register:x,userLogin:z,getUserDetails:B,getLeaderboards:J};var N=L,F={name:"Register",data(){return{email:"",username:"",password:"",password2:"",error:"",showError:!1}},methods:{async register(){if(this.password===this.password2){const e={email:this.email,username:this.username,password:this.password},t=await N.register(e);console.log(t),this.$router.push("/dashboard")}else this.showError=!0,this.error="Password does not match",this.removeError()},removeError(){setTimeout(()=>{this.showError=!1,this.error=""},3e3)}},created(){const e=localStorage.getItem("user");e&&this.$router.push("/dashboard")}};s("9e4b");const U=l()(F,[["render",R],["__scopeId","data-v-e2514d72"]]);var P=U;const A=e=>(Object(a["t"])("data-v-1874126e"),e=e(),Object(a["r"])(),e),H={class:"login"},$={class:"heading"},V=A(()=>Object(a["e"])("i",{class:"fa-regular fa-circle-left"},null,-1)),Q=A(()=>Object(a["e"])("h1",{class:"title"},"Register",-1)),T=A(()=>Object(a["e"])("div",null,null,-1)),Y=A(()=>Object(a["e"])("input",{type:"submit",title:"Submit",class:"submit"},null,-1));function G(e,t,s,r,o,c){const n=Object(a["x"])("router-link");return Object(a["q"])(),Object(a["d"])("div",H,[Object(a["F"])(Object(a["e"])("div",{class:"error"},"Error: "+Object(a["z"])(o.error),513),[[a["C"],o.showError]]),Object(a["e"])("div",$,[Object(a["g"])(n,{to:"/"},{default:Object(a["E"])(()=>[V]),_:1}),Q,T]),Object(a["e"])("form",{onSubmit:t[2]||(t[2]=Object(a["G"])((...e)=>c.login&&c.login(...e),["prevent"]))},[Object(a["F"])(Object(a["e"])("input",{type:"email",placeholder:"email",required:"","onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e)},null,512),[[a["B"],o.email]]),Object(a["F"])(Object(a["e"])("input",{type:"password",placeholder:"password",required:"","onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e)},null,512),[[a["B"],o.password]]),Y],32)])}var K={name:"Login",data(){return{email:"",password:"",error:"",showError:!1}},methods:{async login(){const e={email:this.email,password:this.password},t=await N.userLogin(e),s=Object.keys(t).includes("error");s?(this.error=t.error,this.showError=!0,this.removeError()):(localStorage.setItem("user",JSON.stringify(t)),this.$router.push("/dashboard")),console.log(t)},removeError(){setTimeout(()=>{this.showError=!1,this.error=""},3e3)}},created(){const e=JSON.parse(localStorage.getItem("user"));e&&this.$router.push("/dashboard")}};s("b018");const W=l()(K,[["render",G],["__scopeId","data-v-1874126e"]]);var X=W;const Z=e=>(Object(a["t"])("data-v-71148c0f"),e=e(),Object(a["r"])(),e),ee={class:"dashboardContainer"},te=Z(()=>Object(a["e"])("h1",{class:"title"},"Dashboard",-1)),se={class:"buttonDiv"},ae=Z(()=>Object(a["e"])("button",null,"Quests",-1)),re=Z(()=>Object(a["e"])("button",null,"Leaderboards",-1));function oe(e,t,s,r,o,c){const n=Object(a["x"])("Header"),l=Object(a["x"])("router-link");return Object(a["q"])(),Object(a["d"])("div",null,[Object(a["g"])(n),Object(a["e"])("div",ee,[te,Object(a["e"])("div",se,[Object(a["g"])(l,{to:"/quests"},{default:Object(a["E"])(()=>[ae]),_:1}),Object(a["g"])(l,{to:"/leaderboards"},{default:Object(a["E"])(()=>[re]),_:1}),Object(a["e"])("button",{onClick:t[0]||(t[0]=(...e)=>c.logout&&c.logout(...e)),class:"logout"},"Logout")])])])}function ce(e,t,s,r,o,c){return Object(a["q"])(),Object(a["d"])("header",null,Object(a["z"])(o.username)+", "+Object(a["z"])(o.points)+" points",1)}var ne={name:"Header",props:{result:Object},data(){return{username:"",points:""}},watch:{result(){setTimeout(async()=>{const e=JSON.parse(localStorage.getItem("user")),t=await N.getUserDetails(e.email);this.username=t.username,this.points=t.points},2e3)}},async created(){const e=JSON.parse(localStorage.getItem("user"));if(e){const t=await N.getUserDetails(e.email);this.username=t.username,this.points=t.points}}};s("1c72");const le=l()(ne,[["render",ce],["__scopeId","data-v-0828148d"]]);var ue=le,ie={name:"Dashboard",components:{Header:ue},data(){return{username:"",points:0}},methods:{logout(){localStorage.removeItem("user"),this.$router.push("/")}},created(){const e=localStorage.getItem("user");e||this.$router.push("/")}};s("d6cf");const de=l()(ie,[["render",oe],["__scopeId","data-v-71148c0f"]]);var be=de;const Oe=e=>(Object(a["t"])("data-v-b5487a76"),e=e(),Object(a["r"])(),e),je={class:"leaderboardsContainer"},pe=Oe(()=>Object(a["e"])("h1",{class:"title"},"Leaderboards",-1)),he=Oe(()=>Object(a["e"])("thead",null,[Object(a["e"])("tr",null,[Object(a["e"])("th",null,"Name"),Object(a["e"])("th",null,"Points")])],-1)),fe={ref:"tbody"},me=Oe(()=>Object(a["e"])("button",{class:"back"},"Back",-1));function ge(e,t,s,r,o,c){const n=Object(a["x"])("Header"),l=Object(a["x"])("router-link");return Object(a["q"])(),Object(a["d"])("div",null,[Object(a["g"])(n),Object(a["e"])("div",je,[pe,Object(a["e"])("table",null,[he,Object(a["e"])("tbody",fe,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(o.leaderBoards,e=>(Object(a["q"])(),Object(a["d"])("tr",{key:e._id},[Object(a["e"])("td",null,Object(a["z"])(e.username),1),Object(a["e"])("td",null,Object(a["z"])(e.points),1)]))),128))],512)]),Object(a["g"])(l,{to:"/dashboard"},{default:Object(a["E"])(()=>[me]),_:1})])])}var ve={name:"Leaderboards",components:{Header:ue},data(){return{leaderBoards:[]}},async created(){const e=JSON.parse(localStorage.getItem("user"));if(e||this.$router.push("/"),e){const e=await N.getLeaderboards();this.leaderBoards=e}}};s("afdd");const we=l()(ve,[["render",ge],["__scopeId","data-v-b5487a76"]]);var ye=we;const ke=e=>(Object(a["t"])("data-v-006e95d1"),e=e(),Object(a["r"])(),e),_e=ke(()=>Object(a["e"])("h1",{class:"title"},"Quests",-1)),Se=ke(()=>Object(a["e"])("i",{class:"fas fa-sword"},null,-1)),qe={class:"questsDiv"},Me=["id"],Ie={class:"attackName"},Re=["onClick","disabled"],Ce=ke(()=>Object(a["e"])("i",{class:"fa-solid fa-khanda"},null,-1)),De=Object(a["f"])(" Attack "),Ee=ke(()=>Object(a["e"])("button",{class:"back"},"Back",-1));function xe(e,t,s,r,o,c){const n=Object(a["x"])("Header"),l=Object(a["x"])("router-link"),u=Object(a["x"])("CalculateModal"),i=Object(a["x"])("ResultModal");return Object(a["q"])(),Object(a["d"])(a["a"],null,[Object(a["e"])("div",null,[Object(a["g"])(n,{result:o.result},null,8,["result"]),_e,Se,Object(a["e"])("div",qe,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(o.quests,(e,t)=>(Object(a["q"])(),Object(a["d"])("div",{class:"quest",key:e._id,id:e._id},[Object(a["e"])("h2",Ie,Object(a["z"])(e.action),1),Object(a["e"])("button",{onClick:e=>c.attack(t),class:Object(a["m"])(e.isDisabled?"disabled":"active"),disabled:e.isDisabled},[Ce,De,Object(a["F"])(Object(a["e"])("span",{class:Object(a["m"])(e.isDisabled?"cdDisabled":"cdActive")},Object(a["z"])(e.cd),3),[[a["C"],e.isDisabled]])],10,Re)],8,Me))),128))]),Object(a["g"])(l,{to:"/dashboard"},{default:Object(a["E"])(()=>[Ee]),_:1})]),Object(a["F"])(Object(a["g"])(u,null,null,512),[[a["C"],o.showCalculate]]),Object(a["F"])(Object(a["g"])(i,{onCloseResultModal:c.closeResultModal,result:o.result},null,8,["onCloseResultModal","result"]),[[a["C"],o.showResult]])],64)}const ze="api/quests/",Be=async()=>{const{token:e}=JSON.parse(localStorage.getItem("user")),t={headers:{Authorization:"Bearer "+e}},s=await D.a.get(ze,t);return s.data},Je=async e=>{const{token:t}=JSON.parse(localStorage.getItem("user")),s={headers:{Authorization:"Bearer "+t}},a=await D.a.post(ze+"attackMonster",e,s);return a.data},Le={getAllQuests:Be,attackMonster:Je};var Ne=Le;const Fe=e=>(Object(a["t"])("data-v-6ce7c8f3"),e=e(),Object(a["r"])(),e),Ue={class:"calculateModal"},Pe=Fe(()=>Object(a["e"])("div",{class:"modal-content"},[Object(a["e"])("h2",null,"Calculating....")],-1)),Ae=[Pe];function He(e,t,s,r,o,c){return Object(a["q"])(),Object(a["d"])("div",Ue,Ae)}var $e={name:"CalculateModal"};s("1bf9");const Ve=l()($e,[["render",He],["__scopeId","data-v-6ce7c8f3"]]);var Qe=Ve;const Te=e=>(Object(a["t"])("data-v-91516598"),e=e(),Object(a["r"])(),e),Ye={class:"resultModal"},Ge={key:0,class:"modal-content"},Ke=Te(()=>Object(a["e"])("h2",{class:"victory"},[Object(a["f"])("Victory "),Object(a["e"])("i",{class:"fa-regular fa-face-smile"})],-1)),We={class:"text"},Xe={key:1,class:"modal-content"},Ze=Te(()=>Object(a["e"])("h2",{class:"draw"},[Object(a["f"])("Draw "),Object(a["e"])("i",{class:"fa-regular fa-face-surprise"})],-1)),et={class:"text"},tt={key:2,class:"modal-content"},st=Te(()=>Object(a["e"])("h2",{class:"defeat"},[Object(a["f"])("Defeat "),Object(a["e"])("i",{class:"fa-regular fa-face-frown"})],-1)),at={class:"text"};function rt(e,t,s,r,o,c){return Object(a["q"])(),Object(a["d"])("div",Ye,["Victory"===s.result.result?(Object(a["q"])(),Object(a["d"])("div",Ge,[Ke,Object(a["e"])("p",We," You have defeated Monster"+Object(a["z"])(s.result.monster)+" You have earned "+Object(a["z"])(s.result.reward)+" points. ",1),Object(a["e"])("button",{onClick:t[0]||(t[0]=(...e)=>c.closeResultModal&&c.closeResultModal(...e))},"Return")])):"Draw"===s.result.result?(Object(a["q"])(),Object(a["d"])("div",Xe,[Ze,Object(a["e"])("p",et," Your battle against Monster"+Object(a["z"])(s.result.monster)+" is draw. You didn't earned any points ",1),Object(a["e"])("button",{onClick:t[1]||(t[1]=(...e)=>c.closeResultModal&&c.closeResultModal(...e))},"Return")])):(Object(a["q"])(),Object(a["d"])("div",tt,[st,Object(a["e"])("p",at," Your troops failed to defeat Monster"+Object(a["z"])(s.result.monster),1),Object(a["e"])("button",{onClick:t[2]||(t[2]=(...e)=>c.closeResultModal&&c.closeResultModal(...e))},"Return")]))])}var ot={name:"ResultModal",props:{result:Object},methods:{closeResultModal(){this.$emit("close-result-modal")}},created(){console.log(this.result.monster)},emits:["close-result-modal"]};s("1e2b");const ct=l()(ot,[["render",rt],["__scopeId","data-v-91516598"]]);var nt=ct,lt={name:"Quests",components:{Header:ue,CalculateModal:Qe,ResultModal:nt},data(){return{quests:[],showCalculate:!1,showResult:!1,result:{},interval:null}},methods:{closeResultModal(){this.showResult=!1},async attack(e){this.showCalculate=!0;const t=JSON.parse(localStorage.getItem("user")),s=this.quests[e],{_id:a}=t,r=s._id,o={userID:a,monsterID:r},c=await Ne.attackMonster(o);this.result=c,setTimeout(()=>{this.showCalculate=!1,this.showResult=!0},2e3),s.isDisabled=!0;const n=s.cd;function l(e){let t=setInterval(()=>{e--,s.cd=e,e<=0&&(clearInterval(t),s.isDisabled=!1,s.cd=30)},1e3)}l(n)}},async created(){const e=await Ne.getAllQuests();this.quests=e,this.quests=e.map(e=>({...e,isDisabled:!1,cd:30})),console.log(this.quests)}};s("161f");const ut=l()(lt,[["render",xe],["__scopeId","data-v-006e95d1"]]);var it=ut;const dt=[{path:"/",name:"Home",component:w},{path:"/register",name:"Register",component:P},{path:"/login",name:"Login",component:X},{path:"/dashboard",name:"Dashboard",component:be},{path:"/quests",name:"Quests",component:it},{path:"/leaderboards",name:"Leaderboards",component:ye}],bt=Object(d["a"])({history:Object(d["b"])(),routes:dt});var Ot=bt;Object(a["c"])(i).use(Ot).mount("#app")},"5c76":function(e,t,s){},"738b":function(e,t,s){},"7ca2":function(e,t,s){"use strict";s("9d3d")},"85f4":function(e,t,s){},"8e3d":function(e,t,s){},"9d3d":function(e,t,s){},"9e4b":function(e,t,s){"use strict";s("5c76")},afdd:function(e,t,s){"use strict";s("e7cf")},b018:function(e,t,s){"use strict";s("482b")},d6cf:function(e,t,s){"use strict";s("158f")},e7cf:function(e,t,s){}});
//# sourceMappingURL=app.cfeed530.js.map